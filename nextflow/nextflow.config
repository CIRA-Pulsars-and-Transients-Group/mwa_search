process {
    withLabel: 'gpu|cpu' {
        executor = 'slurm'
    }
    withLabel: gpu {
        queue = 'gpuq'
        cpus = 1
        memory = "8 GB"
    }
    withLabel: cpu {
        queue = 'gpuq'
        cpus = 1
        memory = "2 GB"
    }
}

singularity {
    enabled = true
    runOptions = '-B /group -B /astro'
}

executor.queueSize = 1
